webpackJsonp([5],{CJFh:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},r=n("VU/8")({name:"app"},o,!1,function(e){n("zduS")},null,null).exports,s=n("/ocq"),c=n("mvHQ"),i=n.n(c),l=n("lbHh"),u=n.n(l),d=function(){return u.a.get("x-lite")},m=function(){return u.a.remove("x-lite")},p={data:function(){return{brandName:"AdminLite",shortName:"Lite",userAvatar:"",userName:"",token:d()}},computed:{collapsed:function(){return this.$store.getters.getCollapsed}},methods:{handleopen:function(){},handleclose:function(){},handleselect:function(){},logout:function(){var e=this;this.$http.post("/login/logout").then(function(t){e.$router.push({path:"/login"}),e.$message.success(t.msg)})},collapse:function(){this.$store.dispatch("ToggleSideBar")}},mounted:function(){var e=this,t=localStorage.getItem("user");t?(t=JSON.parse(t),this.userName=t.name,this.userAvatar=t.avatar):this.$http.get("/login/getUserInfo",this.token).then(function(t){var n=t.data;console.log(t),e.userName=n.name,e.userAvatar=n.avatar,localStorage.setItem("user",i()(n))})}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("header",{staticClass:"header"},[n("el-col",{staticClass:"logo",class:e.collapsed?"logo-collapse-width":"logo-width",attrs:{span:10}},[e.collapsed?n("span",[e._v(e._s(e.shortName))]):e._e(),e._v(" "),n("transition",{attrs:{name:"title",mode:"out-in"}},[e.collapsed?e._e():n("span",[e._v(e._s(e.brandName))])])],1),e._v(" "),n("el-col",{attrs:{span:4}},[n("div",{staticClass:"tools",on:{click:function(t){t.preventDefault(),e.collapse(t)}}},[n("i",{staticClass:"iconfont icon-menu"})])]),e._v(" "),n("el-col",{staticClass:"userinfo",attrs:{span:10}},[n("el-dropdown",{attrs:{trigger:"hover"}},[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[n("img",{attrs:{src:e.userAvatar}}),e._v(" "+e._s(e.userName))]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[e._v("个人中心")]),e._v(" "),n("el-dropdown-item",[e._v("设置")]),e._v(" "),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)],1),e._v(" "),n("el-col",{staticClass:"main",attrs:{span:24}},[n("aside",{class:e.collapsed?"menu-collapsed":""},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$route.path,"unique-opened":"",router:"",collapse:e.collapsed,"background-color":"#304156","text-color":"#fff","active-text-color":"#409EFF"},on:{open:e.handleopen,close:e.handleclose,select:e.handleselect}},[e._l(e.$router.options.routes,function(t,a){return t.hidden?e._e():[t.unique?e._e():n("el-submenu",{attrs:{index:a+""}},[n("template",{slot:"title"},[n("i",{staticClass:"menu-icon",class:t.icon}),e._v(" "),n("transition",{attrs:{name:"title",mode:"out-in"}},[e.collapsed?e._e():n("span",[e._v(e._s(t.meta&&t.meta.title))])])],1),e._v(" "),e._l(t.children,function(t){return t.hidden?e._e():n("el-menu-item",{key:t.path,attrs:{index:t.path}},[e._v(e._s(t.meta&&t.meta.title))])})],2),e._v(" "),t.unique&&t.children.length>0?n("el-menu-item",{attrs:{index:t.children[0].path}},[n("i",{class:t.icon}),e._v(e._s(t.children[0].meta&&t.children[0].meta.title))]):e._e()]})],2)],1),e._v(" "),n("section",{staticClass:"content-container"},[n("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[n("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},[n("transition-group",{attrs:{name:"breadcrumb"}},e._l(e.$route.matched,function(t){return n("el-breadcrumb-item",{key:t.path},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(t.meta&&t.meta.title)+"\n\t\t\t\t\t\t\t")])}))],1)],1),e._v(" "),n("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)])],1)},staticRenderFns:[]},h=n("VU/8")(p,f,!1,function(e){n("iIqw")},"data-v-0a43f540",null).exports,g={data:function(){return{logining:!1,ruleForm:{account:"chaoshuai",checkPass:"123456"},rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"}],checkPass:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},methods:{handleSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return!1;e.logining=!0,e.$http.post("/login/login",{username:e.ruleForm.account,password:e.ruleForm.checkPass}).then(function(t){e.logining=!1;var n=t.code,a=(t.msg,t.token),o=t.user;200==n&&(!function(e){u.a.set("x-lite",e)}(a),localStorage.setItem("user",i()(o)),e.$router.push({path:"/"}))})})}}},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm login-container",attrs:{model:e.ruleForm,rules:e.rules,"label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[e._v("AdminLite登录")]),e._v(" "),n("el-form-item",{attrs:{prop:"account"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.ruleForm.account,callback:function(t){e.$set(e.ruleForm,"account",t)},expression:"ruleForm.account"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"checkPass"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),e._v(" "),n("el-checkbox",{staticClass:"remember",attrs:{checked:""},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},nativeOn:{click:function(t){t.preventDefault(),e.handleSubmit(t)}}},[e._v("登录")])],1)],1)],1)},staticRenderFns:[]},_=n("VU/8")(g,v,!1,function(e){n("jYOv")},"data-v-ff48f592",null).exports,b={render:function(){var e=this.$createElement;return(this._self._c||e)("p",{staticClass:"page-container"},[this._v("404 page not found")])},staticRenderFns:[]},k=n("VU/8")(null,b,!1,function(e){n("ftfo")},"data-v-7d955f94",null).exports,y=function(e){return function(){return n("Z2ms")("./"+e+".vue")}};a.default.use(s.a);var F=[{path:"/",hidden:!0,redirect:"/table"},{path:"/login",name:"login",hidden:!0,component:_},{path:"/",hidden:!0,component:h,children:[{path:"/404",name:"NotFound",meta:{title:"NotFound"},component:k}]}],w=[{path:"/",name:"Table",meta:{title:"导航一"},icon:"iconfont icon-bianji-copy",component:h,children:[{path:"/form",name:"form",meta:{title:"表单"},component:y("form/Form")},{path:"/table",name:"table",meta:{title:"表格"},component:y("table/Table")}]},{path:"/",name:"Access",meta:{title:"权限管理"},icon:"iconfont icon-quanxian",component:h,children:[{path:"/access",name:"access",meta:{title:"权限划分"},component:y("access/Access")}]},{path:"/",name:"Setting",meta:{title:"系统设置"},icon:"iconfont icon-settingfull",component:h,children:[{path:"/setting",name:"setting",meta:{title:"样式设置"},component:y("setting/Setting")}]},{path:"*",hidden:!0,redirect:"/404"}],x=new s.a({routes:[].concat(F,w)}),C=n("zL8q"),j=n.n(C),S=n("Y81h"),A=n.n(S),$=n("NYxO"),N={getCollapsed:function(e){return e.app.collapsed}},O={state:{collapsed:!1},mutations:{TOGGLE_SIDEBAR:function(e){e.collapsed=!e.collapsed}},actions:{ToggleSideBar:function(e){(0,e.commit)("TOGGLE_SIDEBAR")}}};a.default.use($.a);var E=new $.a.Store({modules:{app:O},getters:N}),q=n("//Fk"),I=n.n(q),M=n("mtWM"),P=n.n(M).a.create({baseURL:Object({NODE_ENV:"production"}).BASE_API,timeout:15e3});P.interceptors.request.use(function(e){return d&&(e.headers["Lite-Token"]=d()),e},function(e){console.log(e),I.a.reject(e)}),P.interceptors.response.use(function(e){var t=e.data;return 200!=t.code?(Object(C.Message)({message:t.msg,type:"error",duration:5e3}),401!=t.code&&(m(),router.replace({path:"/login"})),I.a.reject(t)):I.a.resolve(t)},function(e){return console.log("err ->"+e),Object(C.Message)({message:e.message,type:"error",duration:5e3}),I.a.reject(e)});var R=P,U=(n("uMhA"),n("tvR6"),n("UVIz"),n("CJFh"),n("zNUS")),L=n.n(U),T={aa:"11",bb:"22",cc:"33",dd:"44"};L.a.mock("http://test.com",{"user|1-3":[{name:"@cname","id|+1":88,"age|18-28":0,birthday:'@date("yyyy-MM-dd")',city:"@city(true)",color:"@color","isMale|1":!0,"isFat|1-2":!0,"fromObj|2":T,"fromObj2|1-3":T,"brother|1":["jack","jim"],"sister|+1":["jack","jim","lily"],"friends|2":["jack","jim"]},{gf:"@cname"}]}),L.a.setup({timeout:"1000-2000"}),L.a.mock("/login/login","post",{code:200,msg:"登录成功",token:"thisisatokenkey",user:{role:["admin"],name:"@cname",avatar:"http://oxdyq538l.bkt.clouddn.com/Avatar.jpg"}}),L.a.mock("/login/logout","post",{code:200,msg:"登出成功"}),L.a.mock("/login/getUserInfo","get",{code:200,msg:"获取成功",data:{role:["admin"],name:"@cname",avatar:"http://oxdyq538l.bkt.clouddn.com/Avatar.jpg"}}),L.a.mock("/goods/getList","get",{code:200,msg:"获取成功","data|3-15":[{"id|+1":1,"title|1":["苹果","香蕉","小黄瓜"],cover:"",category:"水果",total:20,createtime:'@date("yyyy-MM-dd")'}]}),a.default.use(j.a),x.beforeEach(function(e,t,n){A.a.start(),"login"===e.name?(m(),n()):d()?n():n({name:"login"})}),x.afterEach(function(){A.a.done()}),a.default.config.productionTip=!1,a.default.prototype.$http=R,new a.default({el:"#app",router:x,store:E,template:"<App/>",components:{App:r}})},UVIz:function(e,t){},Z2ms:function(e,t,n){function a(e){var t=o[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var o={"./access/Access.vue":["JSt7",3],"./form/Form.vue":["DRZK",2],"./setting/Setting.vue":["3xvl",1],"./table/Table.vue":["XOPp",0]};a.keys=function(){return Object.keys(o)},a.id="Z2ms",e.exports=a},ftfo:function(e,t){},iIqw:function(e,t){},jYOv:function(e,t){},tvR6:function(e,t){},uMhA:function(e,t){},zduS:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f6be36302458b0a6d0a8.js.map